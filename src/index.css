@import "tailwindcss";

/* Tell Tailwind where to look for class names (v4) */
@source "../index.html";
@source "../**/*.{js,jsx,ts,tsx}";

/* Define Tailwind color tokens */
@theme {
	/* radius */
	--radius: 12px;
	--radius-lg: var(--radius);
	--radius-md: calc(var(--radius) - 2px);
	--radius-sm: calc(var(--radius) - 4px);

	/* shadow token */
	--shadow-brand: 0 10px 30px -10px hsl(var(--shadow) / 0.25);

	/* Tailwind color tokens */
	--color-background: hsl(var(--bg));
	--color-foreground: hsl(var(--fg));
	--color-card: hsl(var(--card));
	--color-card-foreground: hsl(var(--card-fg));
	--color-muted: hsl(var(--muted));
	--color-muted-foreground: hsl(var(--muted-fg));
	--color-border: hsl(var(--border));
	--color-ring: hsl(var(--ring));

	--color-primary: hsl(var(--primary));
	--color-primary-foreground: hsl(var(--primary-fg));
	--color-secondary: hsl(var(--secondary));
	--color-secondary-foreground: hsl(var(--secondary-fg));
	--color-accent: hsl(var(--accent));
	--color-accent-foreground: hsl(var(--accent-fg));
}

/* Light palette */
:root {
	/* neutrals */
	--bg: 0 0% 100%;
	--fg: 230 20% 18%;

	--card: 0 0% 100%;
	--card-fg: var(--fg);

	--muted: 315 70% 96%;
	--muted-fg: 320 25% 40%;

	--border: 280 30% 88%;
	--ring: 330 85% 55%;

	/* brandy bits */
	--primary: 330 85% 55%;
	--primary-fg: 0 0% 100%;

	--secondary: 190 80% 40%;
	--secondary-fg: 190 100% 10%;

	--accent: 45 100% 54%;
	--accent-fg: 30 100% 12%;

	--shadow: 330 85% 70%;
}

/* Dark palette */
html.dark {
	--bg: 275 50% 8%;
	--fg: 280 20% 95%;

	--card: 275 35% 12%;
	--card-fg: var(--fg);

	--muted: 280 30% 18%;
	--muted-fg: 280 10% 75%;

	--border: 280 25% 28%;
	--ring: 330 85% 70%;

	--primary: 330 85% 70%;
	--primary-fg: 330 100% 10%;

	--secondary: 190 80% 50%;
	--secondary-fg: 190 100% 10%;

	--accent: 45 100% 60%;
	--accent-fg: 30 100% 12%;

	--shadow: 330 85% 70%;
}

/* Base + small building blocks */
* {
	@apply border-border;
}
body {
	@apply bg-background text-foreground;
}

.card {
	@apply bg-card text-card-foreground border border-border rounded-xl;
	box-shadow: var(--shadow-brand);
}

/* Baseline button */
.btn {
	@apply inline-flex items-center justify-center rounded-lg px-4 py-2 font-medium transition-colors
         focus:outline-none focus-visible:ring-2 ring-ring ring-offset-2 ring-offset-background;
}

/* Variants add only utilities here */
.btn-primary {
	@apply bg-primary text-primary-foreground hover:bg-primary/90;
}
.btn-secondary {
	@apply bg-secondary text-primary-foreground hover:bg-secondary/90;
}

.chip {
	@apply rounded-full bg-muted text-muted-foreground px-3 py-1 border;
}

html {
	scroll-behavior: smooth;
}

/* Reveal animations */
@layer utilities {
	[data-reveal-children] {
		--tx: 0;
		--ty: 14px;
		--s: 1;
		--stagger: 80ms;
	}

	/* base: hide children and prep transition */
	[data-reveal-children] > * {
		opacity: 0;
		transform: translate3d(var(--tx), var(--ty), 0) scale(var(--s));
		will-change: opacity, transform;
		transition: opacity 420ms ease,
			transform 520ms cubic-bezier(0.22, 1, 0.36, 1);
	}

	/* when section enters viewport */
	[data-reveal-children].in-view > * {
		opacity: 1;
		transform: none;
		transition-delay: calc(var(--stagger) * var(--i, 0));
	}

	/* variants just change the variables, not the transform rule */
	[data-reveal-children][data-variant="down"] {
		--ty: -14px;
	}
	[data-reveal-children][data-variant="left"] {
		--tx: 14px;
		--ty: 0;
	}
	[data-reveal-children][data-variant="right"] {
		--tx: -14px;
		--ty: 0;
	}
	[data-reveal-children][data-variant="zoom"] {
		--tx: 0;
		--ty: 0;
		--s: 0.96;
	}

	/* reduced motion: no animation */
	@media (prefers-reduced-motion: reduce) {
		[data-reveal-children] > * {
			opacity: 1 !important;
			transform: none !important;
			transition: none !important;
		}
	}
}
